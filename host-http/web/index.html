<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Remote Stylus</title>
  </head>
  <body>
    <h1>Hello!</h1>
    <div id="status">Connecting...</div>
    <script>
      const ws = new WebSocket(`ws://${location.host}/ws`)

      ws.onopen = () => {
        document.getElementById('status').innerText = 'Connected'
        ws.send('Hello!')
      }

      ws.onmessage = (message) => {
        console.log('Received:', message.data)
      }

      ws.onclose = () => {
        document.getElementById('status').innerText = 'Disconnected'
      }

      ws.onerror = (error) => {
        console.error('WebSocket error:', error)
      }
    </script>
  </body>
</html>
